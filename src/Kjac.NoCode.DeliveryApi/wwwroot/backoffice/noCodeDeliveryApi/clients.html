<div ng-controller="NoCodeDeliveryApi.ClientsController as vm" class="clearfix">
    <umb-load-indicator ng-if="vm.loading"></umb-load-indicator>

    <umb-editor-view footer="false" ng-if="!vm.loading">

        <umb-editor-container style="top:0;">

            <umb-editor-sub-header>

                <umb-editor-sub-header-content-left>
                    <h4>Clients</h4>
                </umb-editor-sub-header-content-left>

                <umb-editor-sub-header-content-right>
                    <umb-button type="button"
                                action="vm.add()"
                                button-style="outline"
                                label="Add client"
                                icon="icon-add">
                    </umb-button>
                </umb-editor-sub-header-content-right>

            </umb-editor-sub-header>

            <table class="table table-hover">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Origin</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="client in vm.clients track by client.key" ng-click="vm.edit(client)" class="cursor-pointer">
                    <td>
                        <umb-icon icon="icon-sitemap" class="language-icon"></umb-icon>
                        <span>{{ client.name }}</span>
                    </td>
                    <td>
                        {{ client.origin }}
                    </td>
                    <td style="text-align: right;">
                        <umb-button type="button"
                                    action="vm.delete(client, $event)"
                                    button-style="danger"
                                    size="xxs"
                                    label="Delete">
                        </umb-button>
                    </td>
                </tr>
                </tbody>
            </table>
            
            <div class="mt4 muted">
                <p>CORS policies will be applied automatically for all clients defined here.</p>
                <p>This allows for consuming the Delivery API when executing in a CORS restricted environment (e.g. a web browser).</p>
            </div>
        
        </umb-editor-container>

    </umb-editor-view>
</div>